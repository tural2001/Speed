'use strict';

const {
  promises: dns
} = require('dns');
const React = require('react');
const {
  useState,
  useEffect
} = require('react');
const {
  Box,
  Text,
  Newline,
  useApp,
  useStdout
} = require('ink');
const Spinner = require('ink-spinner').default;
const api = require('./api.js');
const {
  convertToMpbs
} = require('./utilities.js');
const FixedSpacer = ({
  size
}) => /*#__PURE__*/React.createElement(React.Fragment, null, ' '.repeat(size));
const ErrorMessage = ({
  text
}) => /*#__PURE__*/React.createElement(Box, null, /*#__PURE__*/React.createElement(Text, {
  bold: true,
  color: "red"
}, "\u203A", /*#__PURE__*/React.createElement(FixedSpacer, {
  size: 1
})), /*#__PURE__*/React.createElement(Text, {
  dimColor: true
}, text), /*#__PURE__*/React.createElement(Newline, {
  count: 2
}));
const Spacer = ({
  singleLine
}) => {
  if (singleLine) {
    return null;
  }
  return /*#__PURE__*/React.createElement(Text, null, /*#__PURE__*/React.createElement(Newline, {
    count: 1
  }));
};
const DownloadSpeed = ({
  isDone,
  downloadSpeed,
  uploadSpeed,
  downloadUnit
} = {}) => {
  const color = isDone || uploadSpeed ? 'green' : 'cyan';
  return /*#__PURE__*/React.createElement(Text, {
    color: color
  }, downloadSpeed, /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 1
  }), /*#__PURE__*/React.createElement(Text, {
    dimColor: true
  }, downloadUnit), /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 1
  }), "\u2193");
};
const UploadSpeed = ({
  isDone,
  uploadSpeed,
  uploadUnit
} = {}) => {
  const color = isDone ? 'green' : 'cyan';
  if (uploadSpeed) {
    return /*#__PURE__*/React.createElement(Text, {
      color: color
    }, uploadSpeed, /*#__PURE__*/React.createElement(Text, {
      dimColor: true
    }, ` ${uploadUnit} ↑`));
  }
  return /*#__PURE__*/React.createElement(Text, {
    dimColor: true,
    color: color
  }, ' - Mbps ↑');
};
const Speed = ({
  upload,
  data
}) => upload ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DownloadSpeed, data), /*#__PURE__*/React.createElement(Text, {
  dimColor: true
}, ' / '), /*#__PURE__*/React.createElement(UploadSpeed, data)) : /*#__PURE__*/React.createElement(DownloadSpeed, data);
const Fast = ({
  singleLine,
  upload,
  json
}) => {
  const [error, setError] = useState('');
  const [data, setData] = useState({});
  const [isDone, setIsDone] = useState(false);
  const {
    exit
  } = useApp();
  const {
    write
  } = useStdout();
  useEffect(() => {
    (async () => {
      try {
        await dns.lookup('fast.com');
      } catch (error) {
        setError(error.code === 'ENOTFOUND' ? 'Please check your internet connection' : `Something happened ${JSON.stringify(error)}`);
        exit();
        return;
      }

      // eslint-disable-next-line unicorn/no-array-for-each
      api({
        measureUpload: upload
      }).forEach(result => {
        if (!upload) {
          delete result.uploaded;
          delete result.uploadUnit;
          delete result.uploadSpeed;
        }
        setData(result);
      }).catch(error_ => {
        // eslint-disable-line promise/prefer-await-to-then
        setError(error_.message);
        exit();
      });
    })();
  }, [exit, upload]);
  useEffect(() => {
    if (data.isDone || !upload && data.uploadSpeed) {
      setIsDone(true);
    }
  }, [data.isDone, upload, data.uploadSpeed]);
  useEffect(() => {
    if (isDone) {
      if (json) {
        delete data.isDone;
        data.downloadSpeed = convertToMpbs(data.downloadSpeed, data.downloadUnit);
        delete data.downloadUnit;
        if (upload) {
          data.uploadSpeed = convertToMpbs(data.uploadSpeed, data.uploadUnit);
          delete data.uploadUnit;
        }
        write(JSON.stringify(data, undefined, '\t'));
      }
      exit();
    }
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [isDone, exit]);
  if (error) {
    return /*#__PURE__*/React.createElement(ErrorMessage, {
      text: error
    });
  }
  if (json) {
    return null;
  }
  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Spacer, {
    singleLine: singleLine
  }), /*#__PURE__*/React.createElement(Box, null, !isDone && /*#__PURE__*/React.createElement(React.Fragment, null, !singleLine && /*#__PURE__*/React.createElement(Text, null, /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 2
  })), /*#__PURE__*/React.createElement(Text, {
    color: "cyan"
  }, /*#__PURE__*/React.createElement(Spinner, null)), /*#__PURE__*/React.createElement(Text, null, /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 1
  }))), isDone && /*#__PURE__*/React.createElement(Text, null, /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 4
  })), Object.keys(data).length > 0 && /*#__PURE__*/React.createElement(Speed, {
    upload: upload,
    data: data
  })), /*#__PURE__*/React.createElement(Spacer, {
    singleLine: singleLine
  }));
};
module.exports = Fast;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9taXNlcyIsImRucyIsInJlcXVpcmUiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiQm94IiwiVGV4dCIsIk5ld2xpbmUiLCJ1c2VBcHAiLCJ1c2VTdGRvdXQiLCJTcGlubmVyIiwiZGVmYXVsdCIsImFwaSIsImNvbnZlcnRUb01wYnMiLCJGaXhlZFNwYWNlciIsInNpemUiLCJjcmVhdGVFbGVtZW50IiwiRnJhZ21lbnQiLCJyZXBlYXQiLCJFcnJvck1lc3NhZ2UiLCJ0ZXh0IiwiYm9sZCIsImNvbG9yIiwiZGltQ29sb3IiLCJjb3VudCIsIlNwYWNlciIsInNpbmdsZUxpbmUiLCJEb3dubG9hZFNwZWVkIiwiaXNEb25lIiwiZG93bmxvYWRTcGVlZCIsInVwbG9hZFNwZWVkIiwiZG93bmxvYWRVbml0IiwiVXBsb2FkU3BlZWQiLCJ1cGxvYWRVbml0IiwiU3BlZWQiLCJ1cGxvYWQiLCJkYXRhIiwiRmFzdCIsImpzb24iLCJlcnJvciIsInNldEVycm9yIiwic2V0RGF0YSIsInNldElzRG9uZSIsImV4aXQiLCJ3cml0ZSIsImxvb2t1cCIsImNvZGUiLCJKU09OIiwic3RyaW5naWZ5IiwibWVhc3VyZVVwbG9hZCIsImZvckVhY2giLCJyZXN1bHQiLCJ1cGxvYWRlZCIsImNhdGNoIiwiZXJyb3JfIiwibWVzc2FnZSIsInVuZGVmaW5lZCIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidWkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuY29uc3Qge3Byb21pc2VzOiBkbnN9ID0gcmVxdWlyZSgnZG5zJyk7XG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCB7dXNlU3RhdGUsIHVzZUVmZmVjdH0gPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3Qge0JveCwgVGV4dCwgTmV3bGluZSwgdXNlQXBwLCB1c2VTdGRvdXR9ID0gcmVxdWlyZSgnaW5rJyk7XG5jb25zdCBTcGlubmVyID0gcmVxdWlyZSgnaW5rLXNwaW5uZXInKS5kZWZhdWx0O1xuY29uc3QgYXBpID0gcmVxdWlyZSgnLi9hcGkuanMnKTtcbmNvbnN0IHtjb252ZXJ0VG9NcGJzfSA9IHJlcXVpcmUoJy4vdXRpbGl0aWVzLmpzJyk7XG5cbmNvbnN0IEZpeGVkU3BhY2VyID0gKHtzaXplfSkgPT4gKFxuXHQ8PnsnICcucmVwZWF0KHNpemUpfTwvPlxuKTtcblxuY29uc3QgRXJyb3JNZXNzYWdlID0gKHt0ZXh0fSkgPT4gKFxuXHQ8Qm94PlxuXHRcdDxUZXh0IGJvbGQgY29sb3I9XCJyZWRcIj5cblx0XHRcdOKAulxuXHRcdFx0PEZpeGVkU3BhY2VyIHNpemU9ezF9Lz5cblx0XHQ8L1RleHQ+XG5cdFx0PFRleHQgZGltQ29sb3I+XG5cdFx0XHR7dGV4dH1cblx0XHQ8L1RleHQ+XG5cdFx0PE5ld2xpbmUgY291bnQ9ezJ9Lz5cblx0PC9Cb3g+XG4pO1xuXG5jb25zdCBTcGFjZXIgPSAoe3NpbmdsZUxpbmV9KSA9PiB7XG5cdGlmIChzaW5nbGVMaW5lKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gKFxuXHRcdDxUZXh0PlxuXHRcdFx0PE5ld2xpbmUgY291bnQ9ezF9Lz5cblx0XHQ8L1RleHQ+XG5cdCk7XG59O1xuXG5jb25zdCBEb3dubG9hZFNwZWVkID0gKHtpc0RvbmUsIGRvd25sb2FkU3BlZWQsIHVwbG9hZFNwZWVkLCBkb3dubG9hZFVuaXR9ID0ge30pID0+IHtcblx0Y29uc3QgY29sb3IgPSAoaXNEb25lIHx8IHVwbG9hZFNwZWVkKSA/ICdncmVlbicgOiAnY3lhbic7XG5cblx0cmV0dXJuIChcblx0XHQ8VGV4dCBjb2xvcj17Y29sb3J9PlxuXHRcdFx0e2Rvd25sb2FkU3BlZWR9XG5cdFx0XHQ8Rml4ZWRTcGFjZXIgc2l6ZT17MX0vPlxuXHRcdFx0PFRleHQgZGltQ29sb3I+e2Rvd25sb2FkVW5pdH08L1RleHQ+XG5cdFx0XHQ8Rml4ZWRTcGFjZXIgc2l6ZT17MX0vPlxuXHRcdFx04oaTXG5cdFx0PC9UZXh0PlxuXHQpO1xufTtcblxuY29uc3QgVXBsb2FkU3BlZWQgPSAoe2lzRG9uZSwgdXBsb2FkU3BlZWQsIHVwbG9hZFVuaXR9ID0ge30pID0+IHtcblx0Y29uc3QgY29sb3IgPSBpc0RvbmUgPyAnZ3JlZW4nIDogJ2N5YW4nO1xuXG5cdGlmICh1cGxvYWRTcGVlZCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHQ8VGV4dCBjb2xvcj17Y29sb3J9PlxuXHRcdFx0XHR7dXBsb2FkU3BlZWR9XG5cdFx0XHRcdDxUZXh0IGRpbUNvbG9yPlxuXHRcdFx0XHRcdHtgICR7dXBsb2FkVW5pdH0g4oaRYH1cblx0XHRcdFx0PC9UZXh0PlxuXHRcdFx0PC9UZXh0PlxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gPFRleHQgZGltQ29sb3IgY29sb3I9e2NvbG9yfT57JyAtIE1icHMg4oaRJ308L1RleHQ+O1xufTtcblxuY29uc3QgU3BlZWQgPSAoe3VwbG9hZCwgZGF0YX0pID0+IHVwbG9hZCA/IChcblx0PD5cblx0XHQ8RG93bmxvYWRTcGVlZCB7Li4uZGF0YX0vPlxuXHRcdDxUZXh0IGRpbUNvbG9yPnsnIC8gJ308L1RleHQ+XG5cdFx0PFVwbG9hZFNwZWVkIHsuLi5kYXRhfS8+XG5cdDwvPlxuKSA6ICg8RG93bmxvYWRTcGVlZCB7Li4uZGF0YX0vPik7XG5cbmNvbnN0IEZhc3QgPSAoe3NpbmdsZUxpbmUsIHVwbG9hZCwganNvbn0pID0+IHtcblx0Y29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZSgnJyk7XG5cdGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlKHt9KTtcblx0Y29uc3QgW2lzRG9uZSwgc2V0SXNEb25lXSA9IHVzZVN0YXRlKGZhbHNlKTtcblx0Y29uc3Qge2V4aXR9ID0gdXNlQXBwKCk7XG5cdGNvbnN0IHt3cml0ZX0gPSB1c2VTdGRvdXQoKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdChhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCBkbnMubG9va3VwKCdmYXN0LmNvbScpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0c2V0RXJyb3IoZXJyb3IuY29kZSA9PT0gJ0VOT1RGT1VORCcgP1xuXHRcdFx0XHRcdCdQbGVhc2UgY2hlY2sgeW91ciBpbnRlcm5ldCBjb25uZWN0aW9uJyA6XG5cdFx0XHRcdFx0YFNvbWV0aGluZyBoYXBwZW5lZCAke0pTT04uc3RyaW5naWZ5KGVycm9yKX1gXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGV4aXQoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby1hcnJheS1mb3ItZWFjaFxuXHRcdFx0YXBpKHttZWFzdXJlVXBsb2FkOiB1cGxvYWR9KS5mb3JFYWNoKHJlc3VsdCA9PiB7XG5cdFx0XHRcdGlmICghdXBsb2FkKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHJlc3VsdC51cGxvYWRlZDtcblx0XHRcdFx0XHRkZWxldGUgcmVzdWx0LnVwbG9hZFVuaXQ7XG5cdFx0XHRcdFx0ZGVsZXRlIHJlc3VsdC51cGxvYWRTcGVlZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNldERhdGEocmVzdWx0KTtcblx0XHRcdH0pLmNhdGNoKGVycm9yXyA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJvbWlzZS9wcmVmZXItYXdhaXQtdG8tdGhlblxuXHRcdFx0XHRzZXRFcnJvcihlcnJvcl8ubWVzc2FnZSk7XG5cdFx0XHRcdGV4aXQoKTtcblx0XHRcdH0pO1xuXHRcdH0pKCk7XG5cdH0sIFtleGl0LCB1cGxvYWRdKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGlmIChkYXRhLmlzRG9uZSB8fCAoIXVwbG9hZCAmJiBkYXRhLnVwbG9hZFNwZWVkKSkge1xuXHRcdFx0c2V0SXNEb25lKHRydWUpO1xuXHRcdH1cblx0fSwgW2RhdGEuaXNEb25lLCB1cGxvYWQsIGRhdGEudXBsb2FkU3BlZWRdKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGlmIChpc0RvbmUpIHtcblx0XHRcdGlmIChqc29uKSB7XG5cdFx0XHRcdGRlbGV0ZSBkYXRhLmlzRG9uZTtcblx0XHRcdFx0ZGF0YS5kb3dubG9hZFNwZWVkID0gY29udmVydFRvTXBicyhkYXRhLmRvd25sb2FkU3BlZWQsIGRhdGEuZG93bmxvYWRVbml0KTtcblx0XHRcdFx0ZGVsZXRlIGRhdGEuZG93bmxvYWRVbml0O1xuXG5cdFx0XHRcdGlmICh1cGxvYWQpIHtcblx0XHRcdFx0XHRkYXRhLnVwbG9hZFNwZWVkID0gY29udmVydFRvTXBicyhkYXRhLnVwbG9hZFNwZWVkLCBkYXRhLnVwbG9hZFVuaXQpO1xuXHRcdFx0XHRcdGRlbGV0ZSBkYXRhLnVwbG9hZFVuaXQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3cml0ZShKU09OLnN0cmluZ2lmeShkYXRhLCB1bmRlZmluZWQsICdcXHQnKSk7XG5cdFx0XHR9XG5cblx0XHRcdGV4aXQoKTtcblx0XHR9XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcblx0fSwgW2lzRG9uZSwgZXhpdF0pO1xuXG5cdGlmIChlcnJvcikge1xuXHRcdHJldHVybiA8RXJyb3JNZXNzYWdlIHRleHQ9e2Vycm9yfS8+O1xuXHR9XG5cblx0aWYgKGpzb24pIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiAoXG5cdFx0PD5cblx0XHRcdDxTcGFjZXIgc2luZ2xlTGluZT17c2luZ2xlTGluZX0vPlxuXHRcdFx0PEJveD5cblx0XHRcdFx0eyFpc0RvbmUgJiYgKFxuXHRcdFx0XHRcdDw+XG5cdFx0XHRcdFx0XHR7IXNpbmdsZUxpbmUgJiYgPFRleHQ+PEZpeGVkU3BhY2VyIHNpemU9ezJ9Lz48L1RleHQ+fVxuXHRcdFx0XHRcdFx0PFRleHQgY29sb3I9XCJjeWFuXCI+PFNwaW5uZXIvPjwvVGV4dD5cblx0XHRcdFx0XHRcdDxUZXh0PjxGaXhlZFNwYWNlciBzaXplPXsxfS8+PC9UZXh0PlxuXHRcdFx0XHRcdDwvPlxuXHRcdFx0XHQpfVxuXHRcdFx0XHR7aXNEb25lICYmIDxUZXh0PjxGaXhlZFNwYWNlciBzaXplPXs0fS8+PC9UZXh0Pn1cblx0XHRcdFx0e09iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA+IDAgJiYgPFNwZWVkIHVwbG9hZD17dXBsb2FkfSBkYXRhPXtkYXRhfS8+fVxuXHRcdFx0PC9Cb3g+XG5cdFx0XHQ8U3BhY2VyIHNpbmdsZUxpbmU9e3NpbmdsZUxpbmV9Lz5cblx0XHQ8Lz5cblx0KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRmFzdDtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFDWixNQUFNO0VBQUNBLFFBQVEsRUFBRUM7QUFBRyxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxLQUFLLENBQUM7QUFDdEMsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsT0FBTyxDQUFDO0FBQzlCLE1BQU07RUFBQ0UsUUFBUTtFQUFFQztBQUFTLENBQUMsR0FBR0gsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUM5QyxNQUFNO0VBQUNJLEdBQUc7RUFBRUMsSUFBSTtFQUFFQyxPQUFPO0VBQUVDLE1BQU07RUFBRUM7QUFBUyxDQUFDLEdBQUdSLE9BQU8sQ0FBQyxLQUFLLENBQUM7QUFDOUQsTUFBTVMsT0FBTyxHQUFHVCxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUNVLE9BQU87QUFDOUMsTUFBTUMsR0FBRyxHQUFHWCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQy9CLE1BQU07RUFBQ1k7QUFBYSxDQUFDLEdBQUdaLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztBQUVqRCxNQUFNYSxXQUFXLEdBQUdBLENBQUM7RUFBQ0M7QUFBSSxDQUFDLGtCQUMxQmIsS0FBQSxDQUFBYyxhQUFBLENBQUFkLEtBQUEsQ0FBQWUsUUFBQSxRQUFHLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDSCxJQUFJLENBQUksQ0FDdEI7QUFFRCxNQUFNSSxZQUFZLEdBQUdBLENBQUM7RUFBQ0M7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